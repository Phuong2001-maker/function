    :root{
      --bg:#f4f5f9;
      --surface:#ffffff;
      --muted:#6b7280;
      --text:#111827;
      --primary:#e53935;
      --primary-dark:#c62828;
      --ring:rgba(229,57,53,.3);
      --shadow:0 20px 40px rgba(17,24,39,.09), 0 10px 20px rgba(17,24,39,.05);
      --radius:18px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;color:var(--text);background:var(--bg);}

    .app{display:grid;grid-template-columns:1fr 360px;gap:28px;min-height:100vh;padding:28px;}
    @media (max-width:1100px){
      .app{grid-template-columns:1fr;padding:16px 16px 90px;gap:16px;}
    }

    .board{background:linear-gradient(180deg,#f7f8fc 0%,#f3f4f8 100%);border-radius:var(--radius);box-shadow:var(--shadow);padding:28px;display:flex;flex-direction:column;gap:24px;position:relative;overflow:hidden;}
    @media (max-width:600px){.board{padding:20px;}}

    .dropzone{border:2px dashed #e5e7eb;border-radius:22px;background:rgba(255,255,255,.9);backdrop-filter:blur(3px);padding:60px 30px;text-align:center;color:#4b5563;display:flex;flex-direction:column;align-items:center;gap:14px;transition:border-color .2s,box-shadow .2s,transform .2s;background-image:linear-gradient(135deg,rgba(229,57,53,.08),rgba(255,255,255,0));}
    .dropzone.dragover{border-color:var(--primary);box-shadow:0 0 0 6px var(--ring);transform:translateY(-2px);}
    .dropzone.disabled{opacity:.55;pointer-events:none;}
    .dropzone.disabled button{cursor:not-allowed;background:#d1d5db;color:#6b7280;box-shadow:none;}
    .dropzone strong{font-size:20px;font-weight:700;color:#1f2937;}
    .dropzone button{background:var(--primary);color:#fff;border:none;border-radius:14px;padding:14px 20px;font-weight:600;cursor:pointer;box-shadow:0 12px 24px rgba(229,57,53,.25);transition:background .2s,transform .2s;}    
    .dropzone button:hover{background:var(--primary-dark);transform:translateY(-1px);}    
    .conversion-flow{display:flex;align-items:center;gap:14px;font-weight:600;color:#1f2937;font-size:16px;letter-spacing:.01em;margin-bottom:8px;}
.conversion-flow .icon{display:flex;align-items:center;justify-content:center;font-size:44px;line-height:1;}
.conversion-flow .icon[aria-hidden="true"]{pointer-events:none;}
    .conversion-flow .arrow{font-size:28px;color:#9ca3af;}

    .selection-bar{display:flex;align-items:center;justify-content:space-between;background:rgba(255,255,255,.85);border-radius:16px;padding:14px 18px;font-weight:600;color:#1f2937;box-shadow:0 12px 24px rgba(17,24,39,.06);backdrop-filter:blur(2px);}
    .selection-bar span{color:var(--muted);font-weight:500;}
    .clear-btn{border:none;background:transparent;color:var(--primary);font-weight:600;cursor:pointer;}
    .clear-btn:hover{text-decoration:underline;}

    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:18px;}
    .card{background:var(--surface);border-radius:16px;box-shadow:0 10px 30px rgba(17,24,39,.1);padding:14px;display:flex;flex-direction:column;gap:10px;position:relative;transition:transform .18s ease,box-shadow .18s ease;}
    .card:hover{transform:translateY(-4px);box-shadow:0 14px 36px rgba(17,24,39,.14);}    
    .thumb{width:100%;aspect-ratio:3/4;border-radius:13px;background:#f3f4f6;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;}
    .thumb img{width:100%;height:100%;object-fit:contain;}
    .thumb::after{content:attr(data-pages);position:absolute;bottom:10px;right:10px;background:rgba(17,24,39,.82);color:#fff;font-size:12px;font-weight:600;padding:4px 8px;border-radius:999px;}
    .filename{font-size:13px;font-weight:600;color:#1f2937;text-align:center;word-break:break-word;line-height:1.35;}
    .remove{position:absolute;top:10px;right:10px;border:none;background:#fff;color:#ef4444;border-radius:10px;padding:6px 9px;font-weight:700;cursor:pointer;box-shadow:0 6px 16px rgba(239,68,68,.35);} 
    .empty{border:1px dashed #d1d5db;border-radius:16px;padding:28px 18px;text-align:center;color:#9ca3af;font-size:14px;}

    .rightpanel{background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);padding:26px;display:flex;flex-direction:column;gap:22px;position:sticky;top:26px;align-self:flex-start;}
    .rightpanel h2{margin:0;font-size:22px;font-weight:700;}
    .rightpanel p{margin:0;color:var(--muted);line-height:1.5;font-size:14px;}

    .mode-card{display:flex;align-items:center;gap:16px;background:#fff;border-radius:16px;padding:18px;box-shadow:0 12px 32px rgba(17,24,39,.08);}
    .mode-card .icon{font-size:34px;line-height:1;}
    .mode-card strong{display:block;font-size:16px;color:#1f2937;margin-bottom:4px;}
    .mode-card p{margin:0;font-size:14px;color:var(--muted);line-height:1.5;}

    .quality{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:16px;}
    @media (max-width:600px){.quality{grid-template-columns:1fr;}}
    .qitem{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;gap:10px;min-height:140px;padding:18px;border-radius:18px;background:#ffffff;border:1px solid #e2e8f0;box-shadow:0 8px 18px rgba(15,23,42,.07);cursor:pointer;transition:transform .18s ease,box-shadow .22s ease,border-color .22s ease,background .22s ease;}
    .qitem strong{font-size:17px;color:#1f2937;line-height:1.25;font-weight:600;}
    .qitem small{font-size:13px;font-weight:500;color:#475569;letter-spacing:.01em;}
    .qitem .badge{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.08em;padding:5px 12px;border-radius:999px;background:#eef2ff;color:#3b82f6;}
    .qitem[data-quality="high"] .badge{background:#ecfdf5;color:#0f766e;}
    .qitem[data-quality="ultra"] .badge{background:#fef2f2;color:#dc2626;}
    .qitem.active{background:linear-gradient(180deg,#fff7f7 0%,#ffe6e6 100%);border-color:rgba(229,57,53,.6);box-shadow:0 20px 36px rgba(229,57,53,.18);transform:translateY(-2px);}
    .qitem.active strong{color:var(--primary-dark);}
    .qitem.active small{color:#991b1b;}
    .qitem:focus-visible{outline:none;box-shadow:0 0 0 4px rgba(229,57,53,.22);}

    .output-format{margin:18px 0 20px;}
    .output-format strong{display:block;margin-bottom:10px;font-size:15px;color:#1f2937;}
    .output-format .options{display:flex;gap:12px;}
    .output-format button{flex:1;padding:14px;border-radius:14px;border:1px solid #e2e8f0;background:#fff;box-shadow:0 8px 18px rgba(15,23,42,.06);font-weight:600;color:#1f2937;cursor:pointer;transition:transform .18s,box-shadow .22s,border-color .22s;background-image:linear-gradient(135deg,rgba(229,57,53,.06),rgba(255,255,255,0));}
    .output-format button.active{border-color:var(--primary);box-shadow:0 0 0 4px rgba(229,57,53,.15);color:var(--primary);transform:translateY(-2px);}
    .output-format button:focus-visible{outline:3px solid var(--ring);outline-offset:2px;}
    @media (max-width:600px){
      .output-format .options{flex-direction:column;}
    }

    .pdf-options{display:none;margin:0 0 20px;}
    .pdf-options strong{display:block;margin-bottom:10px;font-size:15px;color:#1f2937;}
    .pdf-options .options{display:flex;gap:12px;}
    .pdf-options button{flex:1;padding:14px;border-radius:14px;border:1px solid #e2e8f0;background:#fff;box-shadow:0 8px 18px rgba(15,23,42,.06);font-weight:600;color:#1f2937;cursor:pointer;transition:transform .18s,box-shadow .22s,border-color .22s;background-image:linear-gradient(135deg,rgba(229,57,53,.06),rgba(255,255,255,0));}
    .pdf-options button.active{border-color:var(--primary);box-shadow:0 0 0 4px rgba(229,57,53,.15);color:var(--primary);transform:translateY(-2px);}
    .pdf-options button:disabled{cursor:not-allowed;opacity:.55;box-shadow:none;}
    .pdf-options button:focus-visible{outline:3px solid var(--ring);outline-offset:2px;}
    @media (max-width:600px){
      .pdf-options .options{flex-direction:column;}
    }

    .status{border-radius:16px;padding:14px 16px;font-size:13px;line-height:1.6;display:none;box-shadow:0 12px 30px rgba(15,23,42,.08);border:1px solid transparent;margin-bottom:18px;}
    .status.show{display:block;}
    .status.info{background:#eef2ff;color:#312e81;border-color:#c7d2fe;}
    .status.success{background:#ecfdf5;color:#047857;border-color:#bbf7d0;}
    .status.warn{background:#fff7ed;color:#b45309;border-color:#fde68a;}
    .status.error{background:#fef2f2;color:#b91c1c;border-color:#fecaca;}

    .progress{height:6px;background:#f3f4f6;border-radius:999px;overflow:hidden;display:none;}
    .progress span{display:block;height:100%;width:0;background:var(--primary);transition:width .2s ease;}

    .convert{border:none;border-radius:15px;padding:16px;font-weight:700;background:var(--primary);color:#fff;display:flex;justify-content:center;align-items:center;gap:10px;letter-spacing:.1px;font-size:15px;cursor:pointer;transition:background .2s,transform .2s;box-shadow:0 18px 32px rgba(229,57,53,.32);}
    .convert:hover{background:var(--primary-dark);transform:translateY(-1px);}
    .convert:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none;}

    .options-toggle{display:none;position:fixed;right:16px;bottom:20px;z-index:40;background:var(--primary);color:#fff;border:none;padding:14px 18px;border-radius:999px;font-weight:600;box-shadow:0 14px 28px rgba(229,57,53,.35);}
    @media (max-width:1100px){
      .rightpanel{position:fixed;left:0;right:0;bottom:0;top:auto;border-radius:22px 22px 0 0;padding:22px 20px 96px;transform:translateY(110%);transition:transform .34s ease;z-index:39;max-height:85vh;overflow-y:auto;}
      .rightpanel.open{transform:translateY(0);}
      .options-toggle{display:inline-flex;gap:8px;align-items:center;}
    }

    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}
